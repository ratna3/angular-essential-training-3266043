"use strict";(self.webpackChunkannouncement_portal=self.webpackChunkannouncement_portal||[]).push([[382],{4382:(H,g,a)=>{a.r(g),a.d(g,{AnnouncementComponent:()=>K});var _=a(6814),n=a(4946),m=a(3076),p=a(9615),u=a(5565),b=a(7879),x=a(6644),f=a(6538);function h(t,o){1&t&&(n.TgZ(0,"span",41),n._UZ(1,"i",42),n._uU(2," Admin View "),n.qZA())}function v(t,o){if(1&t&&(n.TgZ(0,"div",61),n._UZ(1,"img",62),n.qZA()),2&t){const e=n.oxw().$implicit,i=n.oxw(3);n.xp6(1),n.Q6J("src",i.getImagePreview(e),n.LSH)("alt",e.originalName)}}function A(t,o){if(1&t&&(n.TgZ(0,"div",63),n._UZ(1,"i",64),n.qZA()),2&t){const e=n.oxw().$implicit,i=n.oxw(3);n.xp6(1),n.Tol(i.getFileIcon(e.type))}}function Z(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",48)(1,"div",49)(2,"div",50)(3,"div",51)(4,"div",52),n.YNc(5,v,2,2,"div",53),n.YNc(6,A,2,2,"div",54),n.qZA(),n.TgZ(7,"div",55)(8,"h6",56),n._uU(9),n.qZA(),n.TgZ(10,"small",57),n._uU(11),n.qZA(),n.TgZ(12,"small",57),n._UZ(13,"i",58),n._uU(14),n.qZA()()(),n.TgZ(15,"div",59)(16,"button",60),n.NdJ("click",function(){const s=n.CHM(e).$implicit,l=n.oxw(3);return n.KtG(l.downloadFile(s))}),n._UZ(17,"i",58),n._uU(18," Download "),n.qZA()()()()()}if(2&t){const e=o.$implicit,i=n.oxw(3);n.xp6(5),n.Q6J("ngIf",i.isImageFile(e.type)),n.xp6(1),n.Q6J("ngIf",!i.isImageFile(e.type)),n.xp6(2),n.Q6J("title",e.originalName),n.xp6(1),n.hij(" ",e.originalName," "),n.xp6(2),n.hij(" ",i.formatFileSize(e.size)," "),n.xp6(3),n.hij(" ",e.downloads," downloads ")}}function C(t,o){if(1&t&&(n.TgZ(0,"div",43)(1,"h6",44),n._UZ(2,"i",45),n._uU(3),n.qZA(),n.TgZ(4,"div",46),n.YNc(5,Z,19,6,"div",47),n.qZA()()),2&t){const e=n.oxw().ngIf;n.xp6(3),n.hij(" Attachments (",e.attachments.length,") "),n.xp6(2),n.Q6J("ngForOf",e.attachments)}}function k(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",68),n.NdJ("click",function(){n.CHM(e);const r=n.oxw(3);return n.KtG(r.goToAdminDashboard())}),n._UZ(1,"i",69),n._uU(2," Edit "),n.qZA()}}function w(t,o){1&t&&(n.TgZ(0,"span"),n._uU(1,"Delete"),n.qZA())}function T(t,o){1&t&&(n.TgZ(0,"span"),n._UZ(1,"span",76),n._uU(2," Deleting... "),n.qZA())}function U(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",73),n.NdJ("click",function(){n.CHM(e);const r=n.oxw(3);return n.KtG(r.confirmDelete())}),n._UZ(1,"i",74),n.YNc(2,w,2,0,"span",75),n.YNc(3,T,3,0,"span",75),n.qZA()}if(2&t){const e=n.oxw(3);n.Q6J("disabled",e.isDeleting()),n.xp6(2),n.Q6J("ngIf",!e.isDeleting()),n.xp6(1),n.Q6J("ngIf",e.isDeleting())}}function M(t,o){1&t&&(n.TgZ(0,"div",77)(1,"small",78),n._UZ(2,"i",79),n._uU(3," Limited permissions: You can only view this announcement "),n.qZA()())}function O(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",65)(1,"div",36)(2,"span",30),n._UZ(3,"i",66),n._uU(4," Admin Controls "),n.qZA(),n.TgZ(5,"div",67)(6,"button",68),n.NdJ("click",function(){n.CHM(e);const r=n.oxw(2);return n.KtG(r.goToAdminDashboard())}),n._UZ(7,"i",69),n._uU(8," Dashboard "),n.qZA(),n.YNc(9,k,3,0,"button",70),n.YNc(10,U,4,3,"button",71),n.qZA()(),n.YNc(11,M,4,0,"div",72),n.qZA()}if(2&t){const e=n.oxw(2);n.xp6(9),n.Q6J("ngIf",e.canEditAnnouncement()),n.xp6(1),n.Q6J("ngIf",e.canDeleteAnnouncement()),n.xp6(1),n.Q6J("ngIf",!e.canEditAnnouncement()&&!e.canDeleteAnnouncement())}}function P(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26)(4,"span",27),n._UZ(5,"i",28),n._uU(6," Current Announcement "),n.qZA(),n.YNc(7,h,3,0,"span",29),n.qZA(),n.TgZ(8,"small",30),n._uU(9),n.qZA()(),n.TgZ(10,"h2",31),n._uU(11),n.qZA(),n.TgZ(12,"div",32)(13,"p",33),n._uU(14),n.qZA()(),n.YNc(15,C,6,2,"div",34),n.YNc(16,O,12,3,"div",35),n.TgZ(17,"div",36)(18,"button",37),n.NdJ("click",function(){n.CHM(e);const r=n.oxw();return n.KtG(r.toggleLike())}),n._UZ(19,"i",38),n._uU(20),n.TgZ(21,"span",39),n._uU(22),n.qZA()(),n.TgZ(23,"small",30),n._UZ(24,"i",40),n._uU(25),n.qZA()()()()}if(2&t){const e=o.ngIf,i=n.oxw();n.xp6(7),n.Q6J("ngIf",i.isAdmin()),n.xp6(2),n.hij(" Updated: ",i.formatDate(e.updatedAt)," "),n.xp6(2),n.Oqu(e.title),n.xp6(3),n.Oqu(e.content),n.xp6(1),n.Q6J("ngIf",e.attachments&&e.attachments.length>0),n.xp6(1),n.Q6J("ngIf",i.isAdmin()),n.xp6(2),n.ekj("btn-danger",i.hasLiked())("text-white",i.hasLiked()),n.xp6(2),n.hij(" ",i.hasLiked()?"Liked":"Like"," "),n.xp6(1),n.ekj("bg-white",i.hasLiked())("text-danger",i.hasLiked())("bg-danger",!i.hasLiked()),n.xp6(1),n.hij(" ",e.likes," "),n.xp6(3),n.AsE(" ",i.viewedUsers().length," viewer",1!==i.viewedUsers().length?"s":""," ")}}function D(t,o){1&t&&(n.TgZ(0,"div",23)(1,"div",80),n._UZ(2,"i",81),n.TgZ(3,"h3",30),n._uU(4,"No Announcements Available"),n.qZA(),n.TgZ(5,"p",30),n._uU(6,"The admin hasn't posted any announcements yet. Check back later!"),n.qZA(),n.TgZ(7,"small",30),n._uU(8,"Contact the administrator if you believe this is an error."),n.qZA()()())}function I(t,o){1&t&&(n.TgZ(0,"div",82),n._UZ(1,"i",83),n._uU(2," No viewers yet "),n.qZA())}function y(t,o){1&t&&(n.TgZ(0,"div",92),n._UZ(1,"i",93),n.TgZ(2,"small",30),n._uU(3,"Liked"),n.qZA()())}function q(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",86)(1,"div",87),n.NdJ("click",function(){const s=n.CHM(e).$implicit,l=n.oxw(2);return n.KtG(l.showUserDetail(s))}),n.TgZ(2,"div",26)(3,"div",88),n._UZ(4,"i",89),n.qZA(),n.TgZ(5,"div",55)(6,"h6",90),n._uU(7),n.qZA(),n.TgZ(8,"small",30),n._uU(9),n.qZA(),n.YNc(10,y,4,0,"div",91),n.qZA()()()()}if(2&t){const e=o.$implicit,i=n.oxw(2);n.xp6(7),n.Oqu(e.name),n.xp6(2),n.hij(" ",i.formatDate(e.viewedAt)," "),n.xp6(1),n.Q6J("ngIf",e.hasLiked)}}function N(t,o){if(1&t&&(n.TgZ(0,"div",84),n.YNc(1,q,11,3,"div",85),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.viewedUsers())}}function J(t,o){1&t&&(n.TgZ(0,"span",110),n._UZ(1,"i",111),n._uU(2," Liked "),n.qZA())}function S(t,o){1&t&&(n.TgZ(0,"span",112),n._uU(1," Not Liked "),n.qZA())}function E(t,o){if(1&t&&(n.TgZ(0,"div",101)(1,"div",102),n._UZ(2,"i",103),n.TgZ(3,"h4",77),n._uU(4),n.qZA()(),n.TgZ(5,"div",104)(6,"div",105)(7,"strong"),n._uU(8,"Email:"),n.qZA()(),n.TgZ(9,"div",105)(10,"a",106),n._uU(11),n.qZA()()(),n.TgZ(12,"div",107)(13,"div",105)(14,"strong"),n._uU(15,"Viewed At:"),n.qZA()(),n.TgZ(16,"div",105),n._uU(17),n.qZA()(),n.TgZ(18,"div",107)(19,"div",105)(20,"strong"),n._uU(21,"Status:"),n.qZA()(),n.TgZ(22,"div",105),n.YNc(23,J,3,0,"span",108),n.YNc(24,S,2,0,"span",109),n.qZA()()()),2&t){const e=o.ngIf,i=n.oxw(2);n.xp6(4),n.Oqu(e.name),n.xp6(6),n.Q6J("href","mailto:"+e.email,n.LSH),n.xp6(1),n.hij(" ",e.email," "),n.xp6(6),n.hij(" ",i.formatDate(e.viewedAt)," "),n.xp6(6),n.Q6J("ngIf",e.hasLiked),n.xp6(1),n.Q6J("ngIf",!e.hasLiked)}}function Y(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",94),n.NdJ("click",function(){n.CHM(e);const r=n.oxw();return n.KtG(r.hideUserDetails())}),n.TgZ(1,"div",95),n.NdJ("click",function(r){return r.stopPropagation()}),n.TgZ(2,"div",96)(3,"div",97)(4,"h5",98),n._uU(5,"User Details"),n.qZA(),n.TgZ(6,"button",99),n.NdJ("click",function(){n.CHM(e);const r=n.oxw();return n.KtG(r.hideUserDetails())}),n.qZA()(),n.YNc(7,E,25,6,"div",100),n.qZA()()()}if(2&t){const e=n.oxw();n.xp6(7),n.Q6J("ngIf",e.selectedUser())}}function L(t,o){if(1&t&&(n.TgZ(0,"div",123),n._UZ(1,"i",124),n.TgZ(2,"h6",125),n._uU(3,"Are you sure you want to delete this announcement?"),n.qZA(),n.TgZ(4,"div",126)(5,"strong"),n._uU(6),n.qZA(),n.TgZ(7,"p",127),n._uU(8),n.qZA()(),n.TgZ(9,"p",128),n._UZ(10,"i",129),n._uU(11," This action cannot be undone! "),n.qZA()()),2&t){const e=o.ngIf;n.xp6(6),n.hij('"',e.title,'"'),n.xp6(2),n.Oqu(e.content.length>100?e.content.substring(0,100)+"...":e.content)}}function F(t,o){1&t&&n._UZ(0,"i",74)}function Q(t,o){1&t&&n._UZ(0,"span",130)}function j(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",94),n.NdJ("click",function(){n.CHM(e);const r=n.oxw();return n.KtG(r.cancelDelete())}),n.TgZ(1,"div",95),n.NdJ("click",function(r){return r.stopPropagation()}),n.TgZ(2,"div",96)(3,"div",113)(4,"h5",114),n._UZ(5,"i",115),n._uU(6," Confirm Deletion "),n.qZA(),n.TgZ(7,"button",99),n.NdJ("click",function(){n.CHM(e);const r=n.oxw();return n.KtG(r.cancelDelete())}),n.qZA()(),n.TgZ(8,"div",101),n.YNc(9,L,12,2,"div",116),n.qZA(),n.TgZ(10,"div",117)(11,"button",118),n.NdJ("click",function(){n.CHM(e);const r=n.oxw();return n.KtG(r.cancelDelete())}),n._UZ(12,"i",119),n._uU(13," Cancel "),n.qZA(),n.TgZ(14,"button",120),n.NdJ("click",function(){n.CHM(e);const r=n.oxw();return n.KtG(r.deleteAnnouncement())}),n.YNc(15,F,1,0,"i",121),n.YNc(16,Q,1,0,"span",122),n._uU(17),n.qZA()()()()()}if(2&t){const e=n.oxw();n.xp6(9),n.Q6J("ngIf",e.announcement()),n.xp6(2),n.Q6J("disabled",e.isDeleting()),n.xp6(3),n.Q6J("disabled",e.isDeleting()),n.xp6(1),n.Q6J("ngIf",!e.isDeleting()),n.xp6(1),n.Q6J("ngIf",e.isDeleting()),n.xp6(1),n.hij(" ",e.isDeleting()?"Deleting...":"Delete Forever"," ")}}let K=(()=>{class t{constructor(e,i,r,s,l,z){this.userService=e,this.announcementService=i,this.adminService=r,this.hierarchicalAdminService=s,this.fileService=l,this.router=z,this.currentUser=(0,n.tdS)(null),this.announcement=(0,n.tdS)(null),this.selectedUser=(0,n.tdS)(null),this.showUserDetails=(0,n.tdS)(!1),this.showDeleteConfirm=(0,n.tdS)(!1),this.isDeleting=(0,n.tdS)(!1),this.hasLiked=(0,n.Flj)(()=>{const d=this.currentUser(),c=this.announcement();return!(!d||!c)&&this.announcementService.hasUserLiked(c.id,d.id)}),this.isAdmin=(0,n.Flj)(()=>this.adminService.isAuthenticated()||null!==this.hierarchicalAdminService.getCurrentAdmin()),this.canEditAnnouncement=(0,n.Flj)(()=>{const d=this.hierarchicalAdminService.getCurrentAdmin(),c=this.announcement();return!!(d&&c&&c.createdBy)&&this.hierarchicalAdminService.canEditAnnouncement(d,c.createdBy)}),this.canDeleteAnnouncement=(0,n.Flj)(()=>{const d=this.hierarchicalAdminService.getCurrentAdmin(),c=this.announcement();return!!(d&&c&&c.createdBy)&&this.hierarchicalAdminService.canDeleteAnnouncement(d,c.createdBy)}),this.viewedUsers=this.userService.viewedUsers}ngOnInit(){const e=this.userService.getCurrentUser();e?(this.currentUser.set(e),this.announcement.set(this.announcementService.getLatestAnnouncement()),this.userService.markAsViewed(e.id),this.fileService.setDownloadCallback(i=>{this.announcementService.updateFileDownloadCount(i),this.announcement.set(this.announcementService.getLatestAnnouncement())})):this.router.navigate(["/"])}toggleLike(){const e=this.currentUser(),i=this.announcement();e&&i&&(this.announcementService.toggleLike(i.id,e.id),this.userService.toggleLike(e.id),this.announcement.set(this.announcementService.getLatestAnnouncement()))}showUserDetail(e){this.selectedUser.set(e),this.showUserDetails.set(!0)}hideUserDetails(){this.showUserDetails.set(!1),this.selectedUser.set(null)}logout(){this.userService.logout(),this.adminService.logout(),this.router.navigate(["/"])}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}hasAnnouncement(){return null!==this.announcement()}confirmDelete(){this.showDeleteConfirm.set(!0)}cancelDelete(){this.showDeleteConfirm.set(!1)}deleteAnnouncement(){const e=this.announcement();e&&(this.isDeleting.set(!0),this.announcementService.deleteAnnouncement(e.id)&&(this.announcement.set(this.announcementService.getLatestAnnouncement()),this.showDeleteConfirm.set(!1)),this.isDeleting.set(!1))}goToAdminDashboard(){this.router.navigate(["/admin/dashboard"])}downloadFile(e){const i=this.currentUser();i&&this.fileService.downloadFile(e.id,i.id,i.name,i.email)}getFileIcon(e){return this.fileService.getFileIcon(e)}formatFileSize(e){return this.fileService.formatFileSize(e)}isImageFile(e){return e.startsWith("image/")}getImagePreview(e){return this.isImageFile(e.type)?e.data:""}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(m.K),n.Y36(p.X),n.Y36(u.l),n.Y36(b.X),n.Y36(x.I),n.Y36(f.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-announcement"]],standalone:!0,features:[n.jDz],decls:29,vars:7,consts:[[1,"container-fluid","min-vh-100","bg-light"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],[1,"container"],["href","#",1,"navbar-brand"],["src","assets/UPIDlogo.svg","alt","UPID Logo",1,"me-2",2,"height","32px","width","auto"],[1,"bi","bi-megaphone-fill","me-2"],[1,"navbar-nav","ms-auto"],[1,"navbar-text","text-light","me-3"],[1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"container","py-4"],[1,"row","justify-content-center"],[1,"col-lg-8"],["class","card shadow-sm mb-4",4,"ngIf","ngIfElse"],["noAnnouncement",""],[1,"card","shadow-sm"],[1,"card-header","bg-white"],[1,"mb-0"],[1,"bi","bi-people-fill","me-2"],[1,"card-body"],["class","text-center text-muted py-3",4,"ngIf"],["class","row g-2",4,"ngIf"],["class","modal fade show d-block","style","background-color: rgba(0,0,0,0.5);",3,"click",4,"ngIf"],[1,"card","shadow-sm","mb-4"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"d-flex","align-items-center"],[1,"badge","bg-warning","text-dark","me-2"],[1,"bi","bi-megaphone-fill","me-1"],["class","badge bg-info text-dark ms-1",4,"ngIf"],[1,"text-muted"],[1,"h3","text-primary","mb-3"],[1,"announcement-content","mb-4"],[1,"lead"],["class","attachments-section mb-4",4,"ngIf"],["class","admin-controls mb-3 p-3 bg-light rounded",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-outline-danger","btn-lg",3,"click"],[1,"bi","bi-heart-fill","me-2"],[1,"badge","ms-2"],[1,"bi","bi-eye-fill","me-1"],[1,"badge","bg-info","text-dark","ms-1"],[1,"bi","bi-shield-check","me-1"],[1,"attachments-section","mb-4"],[1,"text-muted","mb-3"],[1,"bi","bi-paperclip","me-2"],[1,"row","g-3"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","border-light","h-100"],[1,"card-body","p-3"],[1,"d-flex","align-items-start"],[1,"file-preview","me-3"],["class","image-preview",4,"ngIf"],["class","file-icon text-center",4,"ngIf"],[1,"flex-grow-1"],[1,"mb-1","text-truncate",3,"title"],[1,"text-muted","d-block"],[1,"bi","bi-download","me-1"],[1,"mt-3"],[1,"btn","btn-primary","btn-sm","w-100",3,"click"],[1,"image-preview"],[1,"img-thumbnail",2,"width","60px","height","60px","object-fit","cover",3,"src","alt"],[1,"file-icon","text-center"],[1,"display-4",2,"color","#0d6efd"],[1,"admin-controls","mb-3","p-3","bg-light","rounded"],[1,"bi","bi-tools","me-1"],[1,"btn-group"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-pencil-square","me-1"],["class","btn btn-outline-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-outline-danger btn-sm",3,"disabled","click",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"disabled","click"],[1,"bi","bi-trash","me-1"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"mt-2"],[1,"text-warning"],[1,"bi","bi-exclamation-triangle","me-1"],[1,"card-body","p-5","text-center"],[1,"bi","bi-megaphone","display-1","text-muted","mb-3"],[1,"text-center","text-muted","py-3"],[1,"bi","bi-person-x","display-4","d-block","mb-2"],[1,"row","g-2"],["class","col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4"],[1,"user-item","p-3","border","rounded","cursor-pointer","h-100",3,"click"],[1,"avatar","me-3"],[1,"bi","bi-person-circle","display-6","text-primary"],[1,"mb-1"],["class","mt-1",4,"ngIf"],[1,"mt-1"],[1,"bi","bi-heart-fill","text-danger","me-1"],[1,"modal","fade","show","d-block",2,"background-color","rgba(0,0,0,0.5)",3,"click"],[1,"modal-dialog","modal-dialog-centered",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[1,"text-center","mb-3"],[1,"bi","bi-person-circle","display-3","text-primary"],[1,"row"],[1,"col-sm-6"],[1,"text-decoration-none",3,"href"],[1,"row","mt-2"],["class","badge bg-danger",4,"ngIf"],["class","badge bg-secondary",4,"ngIf"],[1,"badge","bg-danger"],[1,"bi","bi-heart-fill"],[1,"badge","bg-secondary"],[1,"modal-header","border-0"],[1,"modal-title","text-danger"],[1,"bi","bi-exclamation-triangle-fill","me-2"],["class","text-center",4,"ngIf"],[1,"modal-footer","border-0"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],[1,"bi","bi-x-circle","me-1"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["class","bi bi-trash me-1",4,"ngIf"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"text-center"],[1,"bi","bi-trash","display-1","text-danger","mb-3"],[1,"mb-3"],[1,"bg-light","p-3","rounded","mb-3"],[1,"text-muted","mt-2","mb-0"],[1,"text-danger","mb-0"],[1,"bi","bi-exclamation-circle","me-1"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,i){if(1&e&&(n.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),n._UZ(4,"img",4)(5,"i",5),n._uU(6," UPID Suchana Portal "),n.qZA(),n.TgZ(7,"div",6)(8,"span",7),n._uU(9),n.qZA(),n.TgZ(10,"button",8),n.NdJ("click",function(){return i.logout()}),n._UZ(11,"i",9),n._uU(12," Logout "),n.qZA()()()(),n.TgZ(13,"div",10)(14,"div",11)(15,"div",12),n.YNc(16,P,26,20,"div",13),n.YNc(17,D,9,0,"ng-template",null,14,n.W1O),n.TgZ(19,"div",15)(20,"div",16)(21,"h5",17),n._UZ(22,"i",18),n._uU(23," Recent Viewers "),n.qZA()(),n.TgZ(24,"div",19),n.YNc(25,I,3,0,"div",20),n.YNc(26,N,2,1,"div",21),n.qZA()()()()()(),n.YNc(27,Y,8,1,"div",22),n.YNc(28,j,18,6,"div",22)),2&e){const r=n.MAs(18);let s;n.xp6(9),n.hij(" Welcome, ",null==(s=i.currentUser())?null:s.name,"! "),n.xp6(7),n.Q6J("ngIf",i.hasAnnouncement()&&i.announcement())("ngIfElse",r),n.xp6(9),n.Q6J("ngIf",0===i.viewedUsers().length),n.xp6(1),n.Q6J("ngIf",i.viewedUsers().length>0),n.xp6(1),n.Q6J("ngIf",i.showUserDetails()),n.xp6(1),n.Q6J("ngIf",i.showDeleteConfirm())}},dependencies:[_.ez,_.sg,_.O5],styles:['.announcement-page[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(224,242,254,.8) 0%,rgba(186,230,253,.6) 25%,rgba(125,211,252,.4) 50%,rgba(56,189,248,.3) 75%,rgba(14,165,233,.2) 100%);min-height:100vh;position:relative}.announcement-page[_ngcontent-%COMP%]:before{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(circle at 25% 75%,rgba(59,130,246,.1) 0%,transparent 40%),radial-gradient(circle at 75% 25%,rgba(16,185,129,.08) 0%,transparent 40%),linear-gradient(90deg,rgba(59,130,246,.02) 1px,transparent 1px),linear-gradient(rgba(16,185,129,.02) 1px,transparent 1px);background-size:800px 800px,600px 600px,40px 40px,40px 40px;background-position:0 0,200px 200px,0 0,20px 20px;animation:_ngcontent-%COMP%_irrigationPattern 30s ease-in-out infinite;pointer-events:none;z-index:0}@keyframes _ngcontent-%COMP%_irrigationPattern{0%,to{background-position:0 0,200px 200px,0 0,20px 20px}50%{background-position:100px 100px,300px 100px,10px 10px,30px 30px}}.navbar[_ngcontent-%COMP%]{background:rgba(30,64,175,.98)!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:3px solid rgba(14,165,233,.3);box-shadow:0 4px 20px #00000026;position:relative;z-index:10}.navbar-brand[_ngcontent-%COMP%]{font-weight:700;font-size:1.3rem;text-shadow:0 2px 4px rgba(0,0,0,.3)}.card[_ngcontent-%COMP%]{border:none;border-radius:20px;background:rgba(255,255,255,.95);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);box-shadow:0 15px 35px #0000001a,0 6px 12px #0000000d;position:relative;z-index:2;overflow:hidden}.card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#1e40af 0%,#0ea5e9 25%,#16a34a 50%,#0ea5e9 75%,#1e40af 100%)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 25px 50px #00000026,0 10px 20px #00000014;transition:all .4s cubic-bezier(.175,.885,.32,1.275)}.announcement-content[_ngcontent-%COMP%]{white-space:pre-line;line-height:1.8;font-size:1.1rem;color:#374151;text-shadow:0 1px 2px rgba(0,0,0,.05)}.user-item[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.175,.885,.32,1.275);cursor:pointer;border-radius:12px;background:rgba(255,255,255,.8);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(59,130,246,.1)!important}.user-item[_ngcontent-%COMP%]:hover{background:rgba(59,130,246,.05);border-color:#1e40af!important;transform:translateY(-3px) translate(5px);box-shadow:0 8px 20px #1e40af26,0 3px 6px #0000001a}.avatar[_ngcontent-%COMP%]{flex-shrink:0;filter:drop-shadow(0 2px 4px rgba(30,64,175,.2))}.avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1e40af}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.attachments-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{transition:all .3s ease;border:1px solid rgba(59,130,246,.15);border-radius:12px;background:rgba(255,255,255,.9);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.attachments-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{border-color:#1e40af;box-shadow:0 8px 20px #1e40af33,0 3px 6px #0000001a;transform:translateY(-3px);background:white}.file-preview[_ngcontent-%COMP%]{min-width:60px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 8px #0000001a}.file-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);border-radius:12px;width:60px;height:60px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a}.admin-controls[_ngcontent-%COMP%]{border-left:4px solid #dc2626;background:linear-gradient(135deg,rgba(220,38,38,.05) 0%,rgba(239,68,68,.02) 100%);border-radius:12px;animation:_ngcontent-%COMP%_slideIn .5s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.btn[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;transition:all .3s cubic-bezier(.175,.885,.32,1.275);box-shadow:0 2px 8px #0000001a}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 15px #00000026}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e40af,#0ea5e9);border:none}.btn-outline-primary[_ngcontent-%COMP%]{border:2px solid #1e40af;color:#1e40af}.btn-outline-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#1e40af,#0ea5e9);border-color:transparent;color:#fff}.btn-outline-danger[_ngcontent-%COMP%]{border:2px solid #dc2626;color:#dc2626}.btn-outline-danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc2626,#ef4444);border-color:transparent;color:#fff;transform:translateY(-2px) scale(1.05)}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc2626,#ef4444);border:none;transform:scale(1.02)}.btn-outline-danger[_ngcontent-%COMP%]:not(:hover){background:rgba(220,38,38,.05);border-color:#dc26264d}.btn-danger.text-white[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartbeat 1s ease-in-out}@keyframes _ngcontent-%COMP%_heartbeat{0%,to{transform:scale(1.02)}50%{transform:scale(1.1)}}.badge[_ngcontent-%COMP%]{border-radius:8px;font-weight:600;font-size:.8rem;padding:6px 12px}.bg-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#fbbf24)!important;color:#92400e!important}.bg-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0ea5e9,#38bdf8)!important}.bg-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc2626,#ef4444)!important}.bg-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#9ca3af)!important}.bi-file-earmark-pdf[_ngcontent-%COMP%]{color:#dc2626!important;filter:drop-shadow(0 1px 2px rgba(220,38,38,.3))}.bi-file-earmark-excel[_ngcontent-%COMP%]{color:#16a34a!important;filter:drop-shadow(0 1px 2px rgba(22,163,74,.3))}.bi-file-earmark-word[_ngcontent-%COMP%]{color:#1e40af!important;filter:drop-shadow(0 1px 2px rgba(30,64,175,.3))}.bi-file-earmark-image[_ngcontent-%COMP%]{color:#ea580c!important;filter:drop-shadow(0 1px 2px rgba(234,88,12,.3))}.bi-file-earmark-zip[_ngcontent-%COMP%]{color:#7c3aed!important;filter:drop-shadow(0 1px 2px rgba(124,58,237,.3))}.bi-file-earmark[_ngcontent-%COMP%]{color:#6b7280!important;filter:drop-shadow(0 1px 2px rgba(107,114,128,.3))}.modal.show[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:16px;background:rgba(255,255,255,.98);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 25px 50px #00000040}.modal-header[_ngcontent-%COMP%]{border-bottom:2px solid rgba(59,130,246,.1);background:linear-gradient(135deg,rgba(30,64,175,.05) 0%,rgba(14,165,233,.02) 100%);border-radius:16px 16px 0 0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.stats-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(255,255,255,.9) 0%,rgba(248,250,252,.8) 100%);border:1px solid rgba(59,130,246,.1);border-radius:12px;padding:1rem;text-align:center}.bi-megaphone-fill[_ngcontent-%COMP%]{color:#1e40af;filter:drop-shadow(0 2px 4px rgba(30,64,175,.3))}.bi-heart-fill[_ngcontent-%COMP%]{color:#dc2626;filter:drop-shadow(0 1px 2px rgba(220,38,38,.4))}.bi-download[_ngcontent-%COMP%]{color:#16a34a;filter:drop-shadow(0 1px 2px rgba(22,163,74,.3))}.bi-eye-fill[_ngcontent-%COMP%]{color:#0ea5e9;filter:drop-shadow(0 1px 2px rgba(14,165,233,.3))}@media (max-width: 768px){.announcement-page[_ngcontent-%COMP%]:before{background-size:400px 400px,300px 300px,25px 25px,25px 25px}.card[_ngcontent-%COMP%]{border-radius:16px;margin:10px}.user-item[_ngcontent-%COMP%]:hover, .attachments-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}}.spinner-border[_ngcontent-%COMP%]{filter:drop-shadow(0 1px 2px rgba(0,0,0,.2))}.btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid #1e40af;outline-offset:2px}.card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}']}),t})()}}]);