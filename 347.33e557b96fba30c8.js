"use strict";(self.webpackChunkannouncement_portal=self.webpackChunkannouncement_portal||[]).push([[347],{4347:(m,c,a)=>{a.r(c),a.d(c,{LandingComponent:()=>i});var d=a(6814),e=a(4946),o=a(95),u=a(6538),r=a(3076);let i=(()=>{class s{constructor(t,l){this.userService=t,this.router=l,this.name=(0,e.tdS)(""),this.email=(0,e.tdS)(""),this.errors=(0,e.tdS)({}),this.isSubmitting=(0,e.tdS)(!1)}onSubmit(){if(this.validateForm()){this.isSubmitting.set(!0);try{this.userService.createUser(this.name(),this.email()),this.router.navigate(["/announcement"])}catch(t){console.error("Error creating user:",t)}finally{this.isSubmitting.set(!1)}}}validateForm(){const t={};return this.name().trim()?this.name().trim().length<2&&(t.name="Name must be at least 2 characters"):t.name="Name is required",this.email().trim()?this.isValidEmail(this.email().trim())||(t.email="Please enter a valid email address"):t.email="Email is required",this.errors.set(t),0===Object.keys(t).length}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}updateName(t){this.name.set(t),this.errors().name&&this.errors.update(l=>({...l,name:void 0}))}updateEmail(t){this.email.set(t),this.errors().email&&this.errors.update(l=>({...l,email:void 0}))}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(r.K),e.Y36(u.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-landing"]],standalone:!0,features:[e.jDz],decls:26,vars:0,consts:[[1,"container-fluid","vh-100","d-flex","align-items-center","justify-content-center","position-relative"],[1,"card","bg-glass","shadow-cyber","animate-fade-in-up",2,"max-width","600px","width","100%"],[1,"card-body","p-5"],[1,"text-center","mb-4"],[1,"mb-3"],["src","/UPIDlogo.svg","alt","UP Irrigation Department",1,"mb-3",2,"height","80px"],[1,"h2","text-cyber","mb-3","animate-glow",2,"font-family","var(--font-display)"],[1,"bi","bi-megaphone-fill","me-2"],[1,"text-upid-accent","mb-2",2,"font-family","var(--font-display)"],[1,"text-light","opacity-75"],[1,"text-center"],["routerLink","/announcement",1,"btn","btn-primary","btn-lg","shadow-glow","px-5","py-3"],[1,"bi","bi-shield-check","me-2"],[1,"text-center","mt-4"],[1,"my-3",2,"border-color","rgba(0, 188, 212, 0.3)"],[1,"text-upid-accent"],[1,"bi","bi-gear","me-1"],["routerLink","/admin",1,"text-decoration-none","text-upid-accent"],[1,"text-center","mt-3"],[1,"text-light","opacity-50"]],template:function(t,l){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"h1",6),e._UZ(7,"i",7),e._uU(8," \u0938\u0942\u091a\u0928\u093e Portal "),e.qZA(),e.TgZ(9,"h4",8),e._uU(10," Uttar Pradesh Irrigation Department "),e.qZA(),e.TgZ(11,"p",9),e._uU(12,"Enter your details to access the latest departmental announcements"),e.qZA()(),e.TgZ(13,"div",10)(14,"a",11),e._UZ(15,"i",12),e._uU(16," Access Suchana Portal "),e.qZA()(),e.TgZ(17,"div",13),e._UZ(18,"hr",14),e.TgZ(19,"small",15),e._UZ(20,"i",16),e.TgZ(21,"a",17),e._uU(22," Administrative Login "),e.qZA()()(),e.TgZ(23,"div",18)(24,"small",19),e._uU(25," \xa9 2024 Uttar Pradesh Irrigation Department "),e.qZA()()()()())},dependencies:[d.ez,o.u5,u.Bz,u.rH],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:15px}.btn-primary[_ngcontent-%COMP%]{border-radius:8px;font-weight:500}.form-control[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;padding:12px}.form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .25rem #0d6efd26}.bg-light[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%)!important}h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}"]}),s})()},3076:(m,c,a)=>{a.d(c,{K:()=>e});var d=a(4946);let e=(()=>{class o{constructor(){this.STORAGE_KEY="announcement-portal-users",this.CURRENT_USER_KEY="announcement-portal-current-user",this.users=(0,d.tdS)(this.loadUsers()),this.currentUser=(0,d.tdS)(this.loadCurrentUser()),this.users$=this.users.asReadonly(),this.currentUser$=this.currentUser.asReadonly(),this.viewedUsers=(0,d.Flj)(()=>this.users().filter(r=>r.hasViewed))}loadUsers(){const r=localStorage.getItem(this.STORAGE_KEY);return r?JSON.parse(r):[]}loadCurrentUser(){const r=localStorage.getItem(this.CURRENT_USER_KEY);return r?JSON.parse(r):null}saveUsers(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.users()))}saveCurrentUser(){localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(this.currentUser()))}createUser(r,i){const s=this.users().find(t=>t.email===i);if(s)return this.currentUser.set(s),this.saveCurrentUser(),s;const n={id:Date.now().toString(),name:r.trim(),email:i.trim().toLowerCase(),hasLiked:!1,hasViewed:!1,viewedAt:new Date};return this.users.update(t=>[...t,n]),this.currentUser.set(n),this.saveUsers(),this.saveCurrentUser(),n}markAsViewed(r){this.users.update(i=>i.map(s=>s.id===r?{...s,hasViewed:!0,viewedAt:new Date}:s)),this.saveUsers()}toggleLike(r){let i=!1;return this.users.update(s=>s.map(n=>n.id===r?(i=!n.hasLiked,{...n,hasLiked:i}):n)),this.saveUsers(),i}getCurrentUser(){return this.currentUser()}logout(){this.currentUser.set(null),localStorage.removeItem(this.CURRENT_USER_KEY)}getUserById(r){return this.users().find(i=>i.id===r)}clearAllData(){this.users.set([]),this.currentUser.set(null),localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.CURRENT_USER_KEY)}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);