"use strict";(self.webpackChunkannouncement_portal=self.webpackChunkannouncement_portal||[]).push([[27],{7027:(L,m,l)=>{l.r(m),l.d(m,{AdminDashboardComponent:()=>K});var u=l(5861),c=l(6814),e=l(4946),d=l(95),_=l(5565),p=l(9615),g=l(3076),b=l(6644),h=l(6538);function f(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelEdit())}),e._UZ(1,"i",62),e._uU(2," Cancel Edit "),e.qZA()}}function A(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showDeleteConfirmation())}),e._UZ(1,"i",64),e._uU(2),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.isDeleting()),e.xp6(2),e.hij(" ",t.isDeleting()?"Deleting...":"Delete Current"," ")}}function v(i,s){if(1&i&&(e.TgZ(0,"div",65),e._UZ(1,"i",66),e._uU(2),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.hij(" ",t.successMessage()," ")}}function Z(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",70)(1,"div",71),e._UZ(2,"i",72),e.TgZ(3,"div")(4,"div",73),e._uU(5),e.qZA(),e.TgZ(6,"small",67),e._uU(7),e.qZA()()(),e.TgZ(8,"button",74),e.NdJ("click",function(){const a=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.removeSelectedFile(a))}),e._UZ(9,"i",75),e.qZA()()}if(2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(2),e.Tol(n.getFileIcon(t.type)),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(n.formatFileSize(t.size))}}function x(i,s){if(1&i&&(e.TgZ(0,"div",34)(1,"h6",67),e._uU(2,"Selected Files:"),e.qZA(),e.TgZ(3,"div",68),e.YNc(4,Z,10,4,"div",69),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.selectedFiles())}}function T(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",70)(1,"div",71),e._UZ(2,"i",76),e.TgZ(3,"div")(4,"div",73),e._uU(5),e.qZA(),e.TgZ(6,"small",67),e._uU(7),e.qZA()()(),e.TgZ(8,"button",74),e.NdJ("click",function(){const a=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.removeUploadedAttachment(a))}),e._UZ(9,"i",75),e.qZA()()}if(2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(2),e.Tol(n.getFileIcon(t.type)),e.xp6(3),e.Oqu(t.originalName),e.xp6(2),e.AsE("",n.formatFileSize(t.size)," \u2022 ",t.downloads," downloads")}}function C(i,s){if(1&i&&(e.TgZ(0,"div",34)(1,"h6",67),e._uU(2,"Current Attachments:"),e.qZA(),e.TgZ(3,"div",68),e.YNc(4,T,10,5,"div",69),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.uploadedAttachments())}}function U(i,s){if(1&i&&(e.TgZ(0,"div",77),e._UZ(1,"i",78),e._uU(2),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.hij(" Large file size (",t.formatFileSize(t.getTotalFileSize()),"). Consider reducing file count or size for better performance. ")}}function D(i,s){1&i&&e._UZ(0,"span",79)}function w(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,"Uploading Files..."),e.qZA())}function q(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,"Saving..."),e.qZA())}function F(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.isEditMode()?"Update Announcement":"Create New Announcement"," ")}}function y(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editCurrentAnnouncement())}),e._UZ(1,"i",81),e._uU(2," Edit Current "),e.qZA()}}function I(i,s){if(1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",87),e._uU(2),e.qZA()),2&i){const t=e.oxw().ngIf;e.xp6(2),e.AsE(" ",t.attachments.length," file",1!==t.attachments.length?"s":""," ")}}function S(i,s){if(1&i&&(e.TgZ(0,"div")(1,"h6",82),e._uU(2),e.qZA(),e.TgZ(3,"p",83),e._uU(4),e.qZA(),e.TgZ(5,"div",84)(6,"span"),e._UZ(7,"i",85),e._uU(8),e.qZA(),e.YNc(9,I,3,2,"span",49),e.qZA(),e.TgZ(10,"div",86)(11,"small",67),e._uU(12),e.qZA()()()),2&i){const t=s.ngIf,n=e.oxw();e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.content),e.xp6(4),e.hij(" ",t.likes," "),e.xp6(1),e.Q6J("ngIf",t.attachments&&t.attachments.length>0),e.xp6(3),e.hij("Updated: ",n.formatDate(t.updatedAt),"")}}function M(i,s){1&i&&(e.TgZ(0,"div",88),e._UZ(1,"i",89),e.TgZ(2,"p",26),e._uU(3,"No announcement available"),e.qZA(),e.TgZ(4,"small"),e._uU(5,"Create your first announcement using the form"),e.qZA()())}function O(i,s){1&i&&(e.TgZ(0,"div",90)(1,"small"),e._uU(2,"No viewers yet"),e.qZA()())}function E(i,s){1&i&&(e.TgZ(0,"small",98),e._UZ(1,"i",99),e.qZA())}function k(i,s){if(1&i&&(e.TgZ(0,"div",93),e._UZ(1,"i",94),e.TgZ(2,"div",95)(3,"small",96),e._uU(4),e.qZA(),e.TgZ(5,"small",67),e._uU(6),e.qZA()(),e.YNc(7,E,2,0,"small",97),e.qZA()),2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(n.formatDate(t.viewedAt)),e.xp6(1),e.Q6J("ngIf",t.hasLiked)}}function N(i,s){if(1&i&&(e.TgZ(0,"div",100)(1,"small",67),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.hij("+",t.viewedUsers().length-5," more viewers")}}function J(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,k,8,3,"div",91),e.YNc(2,N,3,1,"div",92),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.viewedUsers().slice(-5)),e.xp6(1),e.Q6J("ngIf",t.viewedUsers().length>5)}}function P(i,s){if(1&i&&(e.TgZ(0,"div",93),e._UZ(1,"i",102),e.TgZ(2,"div",95)(3,"small",103),e._uU(4),e.qZA(),e.TgZ(5,"small",67),e._uU(6),e.qZA()(),e.TgZ(7,"div",86)(8,"small",104),e._uU(9),e.qZA(),e.TgZ(10,"small",105),e._uU(11,"downloads"),e.qZA()()()),2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.Tol(n.getFileIcon(t.type)),e.xp6(2),e.Q6J("title",t.originalName),e.xp6(1),e.hij(" ",t.originalName," "),e.xp6(2),e.Oqu(n.formatFileSize(t.size)),e.xp6(3),e.Oqu(t.downloads)}}function Y(i,s){if(1&i&&(e.TgZ(0,"div",100)(1,"small",67),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.hij("+",t.getTopDownloadedFiles().length-5," more files")}}function Q(i,s){if(1&i&&(e.TgZ(0,"div",56)(1,"div",52)(2,"h6",26),e._UZ(3,"i",101),e._uU(4," Top Downloaded Files "),e.qZA()(),e.TgZ(5,"div",12),e.YNc(6,P,12,6,"div",91),e.YNc(7,Y,3,1,"div",92),e.qZA()()),2&i){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.getTopDownloadedFiles().slice(0,5)),e.xp6(1),e.Q6J("ngIf",t.getTopDownloadedFiles().length>5)}}function z(i,s){1&i&&e._UZ(0,"span",79)}function j(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",106),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDeleteConfirmation())}),e.TgZ(1,"div",107),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(2,"div",108)(3,"div",109)(4,"h5",110),e._UZ(5,"i",111),e._uU(6," Confirm Delete "),e.qZA(),e.TgZ(7,"button",112),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDeleteConfirmation())}),e.qZA()(),e.TgZ(8,"div",113)(9,"p")(10,"strong"),e._uU(11,"Are you sure you want to delete this announcement?"),e.qZA()(),e.TgZ(12,"p",15),e._uU(13,"This action cannot be undone. All likes and engagement data will be lost."),e.qZA()(),e.TgZ(14,"div",114)(15,"button",115),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDeleteConfirmation())}),e._uU(16," Cancel "),e.qZA(),e.TgZ(17,"button",116),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete())}),e.YNc(18,z,1,0,"span",48),e._uU(19),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(17),e.Q6J("disabled",t.isDeleting()),e.xp6(1),e.Q6J("ngIf",t.isDeleting()),e.xp6(1),e.hij(" ",t.isDeleting()?"Deleting...":"Delete Announcement"," ")}}let K=(()=>{class i{constructor(t,n,o,a,r){this.adminService=t,this.announcementService=n,this.userService=o,this.fileService=a,this.router=r,this.title=(0,e.tdS)(""),this.content=(0,e.tdS)(""),this.isSubmitting=(0,e.tdS)(!1),this.isDeleting=(0,e.tdS)(!1),this.successMessage=(0,e.tdS)(""),this.currentAnnouncement=(0,e.tdS)(null),this.showDeleteConfirm=(0,e.tdS)(!1),this.editingAnnouncementId=(0,e.tdS)(null),this.selectedFiles=(0,e.tdS)([]),this.uploadedAttachments=(0,e.tdS)([]),this.isUploadingFiles=(0,e.tdS)(!1),this.viewedUsers=this.userService.viewedUsers}ngOnInit(){this.adminService.isAuthenticated()?(this.loadCurrentAnnouncement(),setInterval(()=>{this.loadCurrentAnnouncement()},3e4)):this.router.navigate(["/admin"])}loadCurrentAnnouncement(){const t=this.announcementService.getLatestAnnouncement();this.currentAnnouncement.set(t),this.editingAnnouncementId()||(this.title.set(""),this.content.set(""),this.uploadedAttachments.set([]),this.selectedFiles.set([]))}onSubmit(){var t=this;return(0,u.Z)(function*(){if(t.title().trim()&&t.content().trim()){t.isSubmitting.set(!0),t.successMessage.set("");try{const n=[...t.uploadedAttachments()];if(t.selectedFiles().length>0){t.isUploadingFiles.set(!0);for(const a of t.selectedFiles())try{const r=yield t.fileService.uploadFile(a);n.push(r)}catch(r){console.error("Error uploading file:",r)}t.isUploadingFiles.set(!1)}const o=t.editingAnnouncementId();o?t.announcementService.updateAnnouncement(o,t.title().trim(),t.content().trim(),n)&&(t.successMessage.set("Announcement updated successfully!"),t.cancelEdit()):(t.announcementService.createNewAnnouncement(t.title().trim(),t.content().trim(),n),t.successMessage.set("New announcement created successfully!"),t.title.set(""),t.content.set(""),t.selectedFiles.set([]),t.uploadedAttachments.set([])),t.currentAnnouncement.set(t.announcementService.getLatestAnnouncement()),setTimeout(()=>{t.successMessage.set("")},3e3)}catch(n){console.error("Error with announcement:",n)}finally{t.isSubmitting.set(!1),t.isUploadingFiles.set(!1)}}})()}showDeleteConfirmation(){this.showDeleteConfirm.set(!0)}hideDeleteConfirmation(){this.showDeleteConfirm.set(!1)}confirmDelete(){const t=this.currentAnnouncement();if(t){this.isDeleting.set(!0),this.showDeleteConfirm.set(!1);try{this.announcementService.deleteAnnouncement(t.id)&&(this.currentAnnouncement.set(null),this.title.set(""),this.content.set(""),this.successMessage.set("Announcement deleted successfully!"),setTimeout(()=>{this.successMessage.set("")},3e3))}catch(n){console.error("Error deleting announcement:",n)}finally{this.isDeleting.set(!1)}}}logout(){this.adminService.logout(),this.router.navigate(["/admin"])}updateTitle(t){this.title.set(t)}updateContent(t){this.content.set(t)}formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}getTotalLikes(){const t=this.currentAnnouncement();return t?t.likes:0}getTotalViewers(){return this.viewedUsers().length}hasAnnouncement(){return null!==this.currentAnnouncement()}getTotalAnnouncements(){return this.announcementService.getAllAnnouncements().length}getTotalDownloads(){const t=this.announcementService.getAllAnnouncements();let n=0;return t.forEach(o=>{o.attachments&&o.attachments.forEach(a=>{n+=a.downloads})}),n}getTopDownloadedFiles(){const t=[];return this.announcementService.getAllAnnouncements().forEach(o=>{o.attachments&&t.push(...o.attachments)}),t.sort((o,a)=>a.downloads-o.downloads)}isEditMode(){return null!==this.editingAnnouncementId()}editCurrentAnnouncement(){const t=this.currentAnnouncement();t&&(this.editingAnnouncementId.set(t.id),this.title.set(t.title),this.content.set(t.content),this.uploadedAttachments.set([...t.attachments]),this.selectedFiles.set([]))}cancelEdit(){this.editingAnnouncementId.set(null),this.title.set(""),this.content.set(""),this.uploadedAttachments.set([]),this.selectedFiles.set([])}onFileSelected(t){const n=t.target;if(n.files){const o=Array.from(n.files);this.selectedFiles.update(a=>[...a,...o]),n.value=""}}removeSelectedFile(t){this.selectedFiles.update(n=>n.filter((o,a)=>a!==t))}removeUploadedAttachment(t){this.uploadedAttachments.update(n=>n.filter((o,a)=>a!==t))}getFileIcon(t){return this.fileService.getFileIcon(t)}formatFileSize(t){return this.fileService.formatFileSize(t)}getTotalFileSize(){return this.selectedFiles().reduce((o,a)=>o+a.size,0)+this.uploadedAttachments().reduce((o,a)=>o+a.size,0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.l),e.Y36(p.X),e.Y36(g.K),e.Y36(b.I),e.Y36(h.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin-dashboard"]],standalone:!0,features:[e.jDz],decls:104,vars:26,consts:[[1,"container-fluid","min-vh-100","bg-light"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-danger"],[1,"container"],["href","#",1,"navbar-brand"],[1,"bi","bi-shield-check-fill","me-2"],[1,"navbar-nav","ms-auto"],[1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"container","py-4"],[1,"row","mb-4"],[1,"col-md-3"],[1,"card","text-center","border-primary"],[1,"card-body"],[1,"bi","bi-people-fill","display-4","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],[1,"card","text-center","border-danger"],[1,"bi","bi-heart-fill","display-4","text-danger"],[1,"card","text-center","border-success"],[1,"bi","bi-megaphone-fill","display-4","text-success"],[1,"card","text-center","border-warning"],[1,"bi","bi-download","display-4","text-warning"],[1,"row"],[1,"col-lg-8"],[1,"card","shadow-sm"],[1,"card-header","bg-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-pencil-square","me-2"],[1,"btn-group"],["class","btn btn-outline-secondary btn-sm","type","button",3,"click",4,"ngIf"],["class","btn btn-outline-danger btn-sm","type","button",3,"disabled","click",4,"ngIf"],["class","alert alert-success alert-dismissible",4,"ngIf"],[3,"ngSubmit"],["announcementForm","ngForm"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","placeholder","Enter announcement title","required","",1,"form-control",3,"value","input"],[1,"mb-4"],["for","content",1,"form-label"],["id","content","rows","6","placeholder","Enter announcement content...","required","",1,"form-control",3,"value","input"],[1,"form-label"],["type","file","id","fileInput","multiple","","accept",".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.jpg,.jpeg,.png,.gif,.txt,.zip,.rar",1,"form-control",3,"change"],[1,"form-text"],[1,"bi","bi-info-circle","me-1"],["class","mb-3",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-danger",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[4,"ngIf"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],[1,"col-lg-4"],[1,"card-header","bg-white"],[1,"bi","bi-eye-fill","me-2"],[4,"ngIf","ngIfElse"],["noAnnouncement",""],[1,"card","shadow-sm","mt-3"],[1,"bi","bi-clock-history","me-2"],["class","text-center text-muted py-2",4,"ngIf"],["class","card shadow-sm mt-3",4,"ngIf"],["class","modal fade show d-block","style","background-color: rgba(0,0,0,0.5);",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-x-circle"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"disabled","click"],[1,"bi","bi-trash3"],[1,"alert","alert-success","alert-dismissible"],[1,"bi","bi-check-circle-fill","me-2"],[1,"text-muted"],[1,"list-group","list-group-flush"],["class","list-group-item d-flex justify-content-between align-items-center px-0",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","px-0"],[1,"d-flex","align-items-center"],[1,"bi","me-2","text-primary"],[1,"fw-semibold"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-x"],[1,"bi","me-2","text-success"],[1,"alert","alert-warning"],[1,"bi","bi-exclamation-triangle","me-2"],[1,"spinner-border","spinner-border-sm","me-2"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-pencil","me-1"],[1,"text-primary"],[1,"small","text-muted","mb-2"],[1,"d-flex","justify-content-between","text-muted","small","mb-2"],[1,"bi","bi-heart-fill","text-danger"],[1,"text-end"],[1,"bi","bi-paperclip","text-info"],[1,"text-center","text-muted","py-3"],[1,"bi","bi-megaphone","display-4","d-block","mb-2"],[1,"text-center","text-muted","py-2"],["class","d-flex align-items-center mb-2",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"d-flex","align-items-center","mb-2"],[1,"bi","bi-person-circle","text-primary","me-2"],[1,"flex-grow-1"],[1,"d-block"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"bi","bi-heart-fill"],[1,"text-center"],[1,"bi","bi-bar-chart","me-2"],[1,"me-2","text-warning"],[1,"d-block","fw-semibold","text-truncate",3,"title"],[1,"text-warning","fw-bold"],[1,"d-block","text-muted"],[1,"modal","fade","show","d-block",2,"background-color","rgba(0,0,0,0.5)",3,"click"],[1,"modal-dialog","modal-dialog-centered",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-danger"],[1,"bi","bi-exclamation-triangle-fill","me-2"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"disabled","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),e._UZ(4,"i",4),e._uU(5," Admin Dashboard "),e.qZA(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return n.logout()}),e._UZ(8,"i",7),e._uU(9," Logout "),e.qZA()()()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12),e._UZ(15,"i",13),e.TgZ(16,"h3",14),e._uU(17),e.qZA(),e.TgZ(18,"p",15),e._uU(19,"Total Viewers"),e.qZA()()()(),e.TgZ(20,"div",10)(21,"div",16)(22,"div",12),e._UZ(23,"i",17),e.TgZ(24,"h3",14),e._uU(25),e.qZA(),e.TgZ(26,"p",15),e._uU(27,"Total Likes"),e.qZA()()()(),e.TgZ(28,"div",10)(29,"div",18)(30,"div",12),e._UZ(31,"i",19),e.TgZ(32,"h3",14),e._uU(33),e.qZA(),e.TgZ(34,"p",15),e._uU(35,"Total Announcements"),e.qZA()()()(),e.TgZ(36,"div",10)(37,"div",20)(38,"div",12),e._UZ(39,"i",21),e.TgZ(40,"h3",14),e._uU(41),e.qZA(),e.TgZ(42,"p",15),e._uU(43,"Total Downloads"),e.qZA()()()()(),e.TgZ(44,"div",22)(45,"div",23)(46,"div",24)(47,"div",25)(48,"h5",26),e._UZ(49,"i",27),e._uU(50),e.qZA(),e.TgZ(51,"div",28),e.YNc(52,f,3,0,"button",29),e.YNc(53,A,3,2,"button",30),e.qZA()(),e.TgZ(54,"div",12),e.YNc(55,v,3,1,"div",31),e.TgZ(56,"form",32,33),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(58,"div",34)(59,"label",35),e._uU(60,"Announcement Title"),e.qZA(),e.TgZ(61,"input",36),e.NdJ("input",function(a){return n.updateTitle(a.target.value)}),e.qZA()(),e.TgZ(62,"div",37)(63,"label",38),e._uU(64,"Announcement Content"),e.qZA(),e.TgZ(65,"textarea",39),e.NdJ("input",function(a){return n.updateContent(a.target.value)}),e.qZA()(),e.TgZ(66,"div",37)(67,"label",40),e._uU(68,"File Attachments"),e.qZA(),e.TgZ(69,"div",34)(70,"input",41),e.NdJ("change",function(a){return n.onFileSelected(a)}),e.qZA(),e.TgZ(71,"div",42),e._UZ(72,"i",43),e._uU(73," Supported: PDF, Word, Excel, PowerPoint, Images, Text, Archives (Max 10MB each) "),e.qZA()(),e.YNc(74,x,5,1,"div",44),e.YNc(75,C,5,1,"div",44),e.YNc(76,U,3,1,"div",45),e.qZA(),e.TgZ(77,"div",46)(78,"button",47),e.YNc(79,D,1,0,"span",48),e.YNc(80,w,2,0,"span",49),e.YNc(81,q,2,0,"span",49),e.YNc(82,F,2,1,"span",49),e.qZA(),e.YNc(83,y,3,0,"button",50),e.qZA()()()()(),e.TgZ(84,"div",51)(85,"div",24)(86,"div",52)(87,"h6",26),e._UZ(88,"i",53),e._uU(89),e.qZA()(),e.TgZ(90,"div",12),e.YNc(91,S,13,5,"div",54),e.YNc(92,M,6,0,"ng-template",null,55,e.W1O),e.qZA()(),e.TgZ(94,"div",56)(95,"div",52)(96,"h6",26),e._UZ(97,"i",57),e._uU(98," Recent Viewers "),e.qZA()(),e.TgZ(99,"div",12),e.YNc(100,O,3,0,"div",58),e.YNc(101,J,3,2,"div",49),e.qZA()(),e.YNc(102,Q,8,2,"div",59),e.qZA()()()(),e.YNc(103,j,20,3,"div",60)),2&t){const o=e.MAs(93);e.xp6(17),e.Oqu(n.getTotalViewers()),e.xp6(8),e.Oqu(n.getTotalLikes()),e.xp6(8),e.Oqu(n.getTotalAnnouncements()),e.xp6(8),e.Oqu(n.getTotalDownloads()),e.xp6(9),e.hij(" ",n.isEditMode()?"Update":"Create New"," Announcement "),e.xp6(2),e.Q6J("ngIf",n.isEditMode()),e.xp6(1),e.Q6J("ngIf",n.hasAnnouncement()),e.xp6(2),e.Q6J("ngIf",n.successMessage()),e.xp6(6),e.Q6J("value",n.title()),e.xp6(4),e.Q6J("value",n.content()),e.xp6(9),e.Q6J("ngIf",n.selectedFiles().length>0),e.xp6(1),e.Q6J("ngIf",n.uploadedAttachments().length>0),e.xp6(1),e.Q6J("ngIf",n.getTotalFileSize()>52428800),e.xp6(2),e.Q6J("disabled",n.isSubmitting()||n.isUploadingFiles()||!n.title().trim()||!n.content().trim()),e.xp6(1),e.Q6J("ngIf",n.isSubmitting()||n.isUploadingFiles()),e.xp6(1),e.Q6J("ngIf",n.isUploadingFiles()),e.xp6(1),e.Q6J("ngIf",!n.isUploadingFiles()&&n.isSubmitting()),e.xp6(1),e.Q6J("ngIf",!n.isSubmitting()&&!n.isUploadingFiles()),e.xp6(1),e.Q6J("ngIf",n.hasAnnouncement()&&!n.isEditMode()),e.xp6(6),e.hij(" ",n.hasAnnouncement()?"Current Announcement":"No Announcement"," "),e.xp6(2),e.Q6J("ngIf",n.currentAnnouncement())("ngIfElse",o),e.xp6(9),e.Q6J("ngIf",0===n.viewedUsers().length),e.xp6(1),e.Q6J("ngIf",n.viewedUsers().length>0),e.xp6(1),e.Q6J("ngIf",n.getTopDownloadedFiles().length>0),e.xp6(1),e.Q6J("ngIf",n.showDeleteConfirm())}},dependencies:[c.ez,c.sg,c.O5,d.u5,d._Y,d.JL,d.F],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:12px;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a!important}.navbar-brand[_ngcontent-%COMP%]{font-weight:600}.form-control[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef}.form-control[_ngcontent-%COMP%]:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354526}.btn-danger[_ngcontent-%COMP%]{border-radius:8px;font-weight:500}.bg-light[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%)!important}.alert[_ngcontent-%COMP%]{border-radius:8px;border:none}.border-primary[_ngcontent-%COMP%]{border-color:#0d6efd!important;border-width:2px!important}.border-danger[_ngcontent-%COMP%]{border-color:#dc3545!important;border-width:2px!important}.border-success[_ngcontent-%COMP%]{border-color:#198754!important;border-width:2px!important}.modal.show[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .15s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.btn-outline-danger[_ngcontent-%COMP%]{transition:all .2s ease}.btn-outline-danger[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]}),i})()}}]);